# NPM

 > https://www.npmjs.com/



### Инструкции

`npm install http-server -g`  -  установка пакета http-server глобально(пакеты установленные глобально не сохраняются в папке node_modules)

`npm list -g --depth=0`  -  выведет список всех глобально установленных пакетов, плюс покажет путь к папке этих пакетов(короче: `npm ls -g --depth=0`)
опция `--depth=0` выводит основные пакеты, без их зависимостей

`npm init`  -  создание файла package.json (быстрый вариант, без лишних вопросов: `npm init -y`)

`npm install bcryptjs --save`  -  установит пакет и сохранит зависимость в package.json

`npm i`  -  установит все пакеты, которые указаны в файле package.json

`npm install --save-dev mocha`  -  установит пакет `mocha` в зависимости для разработки `devDependencies` в package.json

`npm install colors@1.0.0`  -  установит пакет colors с указанной версией 1.0.0

`npm outdated`  -  отобразит пакеты, которые можно обновить(`Current` - текущая версия, `Wanted` - желаемая версия, `Latest` - самая последняя версия)

`npm update`  -  обновление всех устаревших пакетов

`npm update colors`  -  обновление для локально установленного пакета colors

`npm update http-server -g`  -  обновление для глобально установленного пакета http-server

`npm list --depth=0`  -  выведет список основных установленных пакетов приложения

`npm uninstall colors`  -  удалит пакет colors из папки node_modules проекта

`npm uninstall colors --save`  -  удалит пакет colors из папки node_modules и из зависимостей(package.json) проекта

`npm uninstall mocha --save-dev`  -  удалит пакет colors из папки node_modules и из зависимостей(package.json) проекта

`npm uninstall http-server -g`  -  удалит глобально установленный пакет

> `https://docs.npmjs.com/`  -  официальная документация по **npm**






### Глобально или локально

Если пакет нужен для написания кода(т.е. в коде проекта он используется через `require`), то пакет устанавливается локально
Если пакетом нужно пользоваться через терминал и всёравно какая версия будет использоваться, то пакет ставится глобально(бывают исключения)



### dependencies vs devDependencies

**devDependencies**(development dependencies) - зависимости для разработки, т.е. те зависимости, которые ненужны для запуска приложения в рабочей среде, они нужны только в процессе разработки(например фреймворк для тестирования Mocha)



### Пакеты

 **http-server**: 
 > устанавливать глобально `npm i http-server -g` 
 > запускается в командной строке исходного проекта с помощью команды `http-server`, будет доступен в браузере по адресу `localhost:127.0.0.1`, так же доступен внешний айпишник
 > знает о существовании папки `public`, в которую можно разместить статические файлы проекта
 > бысстрый, простой, легкий, удобный сервер для проекта(например для отработки AJAX-запросов)


 **colors**
 > установка `npm i --save colors`
 > добавляет методы к строкам для их подсветки/визуального форматирования при отображении этих строк в консоли


 **mocha**
 > пакет для тестирования



### package.json

Файл, в котором указывается общая информация о приложении и о всех его зависимостях

Файл можно редактировать вручную
Два обязательных поля: название пакета и его версия

Тестирование с mocha:
```
...

  "scripts": {
    "test": "mocha"
  },

...
```
запуск тестов `npm test`




### Версионирование пакетов

```
"mocha": "^5.2.0"
```

**Semantic Versioning**(SemVer)  -  семантическое управление версиями

**5.2.0**:
 - `5` - основная("мажорная") версия пакета(при смене основной версии, код `почти` всегда ломается, нужно будет вносить изменения)
 - `2` - второстепенная("минорная") версия, при переходе к более новой версии код продолжает работать, т.е. совместимость между версиями сохраняется, как правило добавляется новый функционал, не изменяющий API(но гарантий нет:) )
 - `0` - патчи и исправления, при переходе к более новой версии, проблем не возникает, такие обновления рекомендуется делать постоянно


**Спец. символы:**
 - `^5.2.10` - "домик" обозначает последнюю второстепенную версию(вплоть до первостепенной версии)
 - `~5.2.10` - "тильда" обозначает последнюю незначительную версию(вплоть до второстепенной версии)